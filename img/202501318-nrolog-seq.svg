<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="5088px" preserveAspectRatio="none" style="width:2179px;height:5088px;background:#FFFFFF;" version="1.1" viewBox="0 0 2179 5088" width="2179px" zoomAndPan="magnify"><defs/><g><rect fill="transparent" height="1075.9141" style="stroke:#000000;stroke-width:1.5;" width="2163.041" x="10" y="98.2969"/><rect fill="transparent" height="1054.7813" style="stroke:#000000;stroke-width:1.5;" width="2163.041" x="10" y="1188.2109"/><rect fill="transparent" height="644.7891" style="stroke:#000000;stroke-width:1.5;" width="2063.2842" x="10" y="2256.9922"/><rect fill="transparent" height="581.6563" style="stroke:#000000;stroke-width:1.5;" width="2063.2842" x="10" y="2915.7813"/><rect fill="transparent" height="633.6563" style="stroke:#000000;stroke-width:1.5;" width="2152.2422" x="10" y="3511.4375"/><rect fill="transparent" height="437.9922" style="stroke:#000000;stroke-width:1.5;" width="2063.2842" x="10" y="4159.0938"/><rect fill="transparent" height="379.7266" style="stroke:#000000;stroke-width:1.5;" width="2063.2842" x="10" y="4611.0859"/><g><title>User</title><rect fill="transparent" height="4926.5156" width="8" x="34.9551" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="81.2969" y2="5007.8125"/></g><g><title>Frontend (React)</title><rect fill="transparent" height="4926.5156" width="8" x="422.8091" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="426.5142" x2="426.5142" y1="81.2969" y2="5007.8125"/></g><g><title>API Router</title><rect fill="transparent" height="4926.5156" width="8" x="786.7578" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="789.9463" x2="789.9463" y1="81.2969" y2="5007.8125"/></g><g><title>AuthHandler</title><rect fill="transparent" height="4926.5156" width="8" x="912.2251" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="915.2563" x2="915.2563" y1="81.2969" y2="5007.8125"/></g><g><title>EduroamHandler</title><rect fill="transparent" height="4926.5156" width="8" x="1039.3281" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1043.1938" x2="1043.1938" y1="81.2969" y2="5007.8125"/></g><g><title>AdminHandler</title><rect fill="transparent" height="4926.5156" width="8" x="1172.457" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1175.4624" x2="1175.4624" y1="81.2969" y2="5007.8125"/></g><g><title>AuthService</title><rect fill="transparent" height="4926.5156" width="8" x="1288.7285" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1292.4517" x2="1292.4517" y1="81.2969" y2="5007.8125"/></g><g><title>VerificationService</title><rect fill="transparent" height="4926.5156" width="8" x="1420.75" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1424.0054" x2="1424.0054" y1="81.2969" y2="5007.8125"/></g><g><title>EduroamService</title><rect fill="transparent" height="4926.5156" width="8" x="1567.937" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1571.4946" x2="1571.4946" y1="81.2969" y2="5007.8125"/></g><g><title>TurnstileService</title><rect fill="transparent" height="4926.5156" width="8" x="1774.0996" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1777.6143" x2="1777.6143" y1="81.2969" y2="5007.8125"/></g><g><title>QuickwitClient</title><rect fill="transparent" height="4926.5156" width="8" x="1905.0581" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1908.585" x2="1908.585" y1="81.2969" y2="5007.8125"/></g><g><title>PostgreSQL</title><rect fill="transparent" height="4926.5156" width="8" x="2015.9077" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2019.5313" x2="2019.5313" y1="81.2969" y2="5007.8125"/></g><g><title>Cloudflare</title><rect fill="transparent" height="4926.5156" width="8" x="2114.1626" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2117.2842" x2="2117.2842" y1="81.2969" y2="5007.8125"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="77.9951">User</text><ellipse cx="38.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,21.5 L38.9551,48.5 M25.9551,29.5 L51.9551,29.5 M38.9551,48.5 L25.9551,63.5 M38.9551,48.5 L51.9551,63.5 " fill="transparent" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="5019.8076">User</text><ellipse cx="38.9551" cy="5031.6094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,5039.6094 L38.9551,5066.6094 M25.9551,5047.6094 L51.9551,5047.6094 M38.9551,5066.6094 L25.9551,5081.6094 M38.9551,5066.6094 L51.9551,5081.6094 " fill="transparent" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.5898" x="364.5142" y="77.9951">Frontend (React)</text><path d="M406.3091,37 L406.3091,61 M406.3091,49 L423.3091,49 " fill="transparent" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="435.3091" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.5898" x="364.5142" y="5019.8076">Frontend (React)</text><path d="M406.3091,5027.1094 L406.3091,5051.1094 M406.3091,5039.1094 L423.3091,5039.1094 " fill="transparent" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="435.3091" cy="5039.1094" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.623" x="750.9463" y="77.9951">API Router</text><ellipse cx="790.7578" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="786.7578,37,792.7578,32,790.7578,37,792.7578,42,786.7578,37" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.623" x="750.9463" y="5019.8076">API Router</text><ellipse cx="790.7578" cy="5039.1094" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="786.7578,5027.1094,792.7578,5022.1094,790.7578,5027.1094,792.7578,5032.1094,786.7578,5027.1094" style="stroke:#181818;stroke-width:1;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.9375" x="865.2563" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.9375" x="872.2563" y="69.9951">AuthHandler</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.9375" x="865.2563" y="5006.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.9375" x="872.2563" y="5026.8076">AuthHandler</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.2686" x="977.1938" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.2686" x="984.1938" y="69.9951">EduroamHandler</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.2686" x="977.1938" y="5006.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.2686" x="984.1938" y="5026.8076">EduroamHandler</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.9893" x="1119.4624" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9893" x="1126.4624" y="69.9951">AdminHandler</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.9893" x="1119.4624" y="5006.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9893" x="1126.4624" y="5026.8076">AdminHandler</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.5537" x="1243.4517" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.5537" x="1250.4517" y="69.9951">AuthService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.5537" x="1243.4517" y="5006.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.5537" x="1250.4517" y="5026.8076">AuthService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.4893" x="1352.0054" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.4893" x="1359.0054" y="69.9951">VerificationService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.4893" x="1352.0054" y="5006.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.4893" x="1359.0054" y="5026.8076">VerificationService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.8848" x="1507.4946" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.8848" x="1514.4946" y="69.9951">EduroamService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.8848" x="1507.4946" y="5006.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.8848" x="1514.4946" y="5026.8076">EduroamService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.9707" x="1714.6143" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9707" x="1721.6143" y="69.9951">TurnstileService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.9707" x="1714.6143" y="5006.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9707" x="1721.6143" y="5026.8076">TurnstileService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114.9463" x="1851.585" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.9463" x="1858.585" y="69.9951">QuickwitClient</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114.9463" x="1851.585" y="5006.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.9463" x="1858.585" y="5026.8076">QuickwitClient</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="1976.5313" y="77.9951">PostgreSQL</text><path d="M2001.9077,29 C2001.9077,19 2019.9077,19 2019.9077,19 C2019.9077,19 2037.9077,19 2037.9077,29 L2037.9077,55 C2037.9077,65 2019.9077,65 2019.9077,65 C2019.9077,65 2001.9077,65 2001.9077,55 L2001.9077,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2001.9077,29 C2001.9077,39 2019.9077,39 2019.9077,39 C2019.9077,39 2037.9077,39 2037.9077,29 " fill="transparent" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="1976.5313" y="5019.8076">PostgreSQL</text><path d="M2001.9077,5033.1094 C2001.9077,5023.1094 2019.9077,5023.1094 2019.9077,5023.1094 C2019.9077,5023.1094 2037.9077,5023.1094 2037.9077,5033.1094 L2037.9077,5059.1094 C2037.9077,5069.1094 2019.9077,5069.1094 2019.9077,5069.1094 C2019.9077,5069.1094 2001.9077,5069.1094 2001.9077,5059.1094 L2001.9077,5033.1094 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2001.9077,5033.1094 C2001.9077,5043.1094 2019.9077,5043.1094 2019.9077,5043.1094 C2019.9077,5043.1094 2037.9077,5043.1094 2037.9077,5033.1094 " fill="transparent" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="85.7568" x="2077.2842" y="29.7031"/><rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="85.7568" x="2073.2842" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.7568" x="2080.2842" y="53.6982">Cloudflare</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.2295" x="2085.5479" y="69.9951">Turnstile</text><rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="85.7568" x="2077.2842" y="5006.8125"/><rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="85.7568" x="2073.2842" y="5010.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.7568" x="2080.2842" y="5030.8076">Cloudflare</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.2295" x="2085.5479" y="5047.1045">Turnstile</text><path d="M10,98.2969 L183.6289,98.2969 L183.6289,105.4297 L173.6289,115.4297 L10,115.4297 L10,98.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="1075.9141" style="stroke:#000000;stroke-width:1.5;" width="2163.041" x="10" y="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128.6289" x="25" y="111.3638">User Registration</text><polygon fill="#181818" points="414.8091,132.5625,424.8091,136.5625,414.8091,140.5625,418.8091,136.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="136.5625" y2="136.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.1421" x="45.9551" y="131.4966">1. Submit email for signup</text><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="468.8091" y1="165.6953" y2="165.6953"/><line style="stroke:#181818;stroke-width:1;" x1="468.8091" x2="468.8091" y1="165.6953" y2="178.6953"/><line style="stroke:#181818;stroke-width:1;" x1="427.8091" x2="468.8091" y1="178.6953" y2="178.6953"/><polygon fill="#181818" points="437.8091,174.6953,427.8091,178.6953,437.8091,182.6953,433.8091,178.6953" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.9204" x="433.8091" y="160.6294">2. Validate Turnstile</text><polygon fill="#181818" points="2106.1626,203.8281,2116.1626,207.8281,2106.1626,211.8281,2110.1626,207.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="2112.1626" y1="207.8281" y2="207.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.5723" x="433.8091" y="202.7622">3. Verify human interaction</text><polygon fill="#181818" points="437.8091,232.9609,427.8091,236.9609,437.8091,240.9609,433.8091,236.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="2117.1626" y1="236.9609" y2="236.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4355" x="443.8091" y="231.895">4. Return token</text><polygon fill="#181818" points="778.7578,262.0938,788.7578,266.0938,778.7578,270.0938,782.7578,266.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="784.7578" y1="266.0938" y2="266.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.4614" x="433.8091" y="261.0278">5. POST /api/auth/signup with Turnstile token</text><polygon fill="#181818" points="904.2251,291.2266,914.2251,295.2266,904.2251,299.2266,908.2251,295.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="910.2251" y1="295.2266" y2="295.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.9248" x="797.7578" y="290.1606">6. Call Signup()</text><polygon fill="#181818" points="1766.0996,320.3594,1776.0996,324.3594,1766.0996,328.3594,1770.0996,324.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1772.0996" y1="324.3594" y2="324.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.5903" x="923.2251" y="319.2935">7. Verify Turnstile token</text><polygon fill="#181818" points="2106.1626,349.4922,2116.1626,353.4922,2106.1626,357.4922,2110.1626,353.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1778.0996" x2="2112.1626" y1="353.4922" y2="353.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.6021" x="1785.0996" y="348.4263">8. Verify token</text><polygon fill="#181818" points="1789.0996,378.625,1779.0996,382.625,1789.0996,386.625,1785.0996,382.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1783.0996" x2="2117.1626" y1="382.625" y2="382.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.5278" x="1795.0996" y="377.5591">9. Token validation result</text><polygon fill="#181818" points="1280.7285,407.7578,1290.7285,411.7578,1280.7285,415.7578,1284.7285,411.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1286.7285" y1="411.7578" y2="411.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.0625" x="923.2251" y="406.6919">10. CreateUser()</text><polygon fill="#181818" points="2007.9077,436.8906,2017.9077,440.8906,2007.9077,444.8906,2011.9077,440.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="440.8906" y2="440.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.582" x="1299.7285" y="435.8247">11. Insert new user</text><polygon fill="#181818" points="1303.7285,466.0234,1293.7285,470.0234,1303.7285,474.0234,1299.7285,470.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1297.7285" x2="2018.9077" y1="470.0234" y2="470.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2217" x="1309.7285" y="464.9575">12. Return user ID</text><polygon fill="#181818" points="1412.75,495.1563,1422.75,499.1563,1412.75,503.1563,1416.75,499.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1418.75" y1="499.1563" y2="499.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.998" x="923.2251" y="494.0903">13. GenerateVerificationCode()</text><polygon fill="#181818" points="2007.9077,524.2891,2017.9077,528.2891,2007.9077,532.2891,2011.9077,528.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1424.75" x2="2013.9077" y1="528.2891" y2="528.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.9199" x="1431.75" y="523.2231">14. Store verification code</text><polygon fill="#181818" points="1280.7285,553.4219,1290.7285,557.4219,1280.7285,561.4219,1284.7285,557.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1286.7285" y1="557.4219" y2="557.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.8105" x="923.2251" y="552.356">15. SendVerificationEmail()</text><path d="M1297,570.4219 L1297,610.4219 L1502,610.4219 L1502,580.4219 L1492,570.4219 L1297,570.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1492,570.4219 L1492,580.4219 L1502,580.4219 L1492,570.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.4121" x="1303" y="587.4888">Only sends verification code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2388" x="1303" y="602.6216">not token</text><polygon fill="#181818" points="927.2251,632.8203,917.2251,636.8203,927.2251,640.8203,923.2251,636.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="921.2251" x2="1291.7285" y1="636.8203" y2="636.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.1138" x="933.2251" y="631.7544">16. Email sent</text><polygon fill="#181818" points="437.8091,661.9531,427.8091,665.9531,437.8091,669.9531,433.8091,665.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="915.2251" y1="665.9531" y2="665.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.6006" x="443.8091" y="660.8872">17. Success response</text><polygon fill="#181818" points="49.9551,691.0859,39.9551,695.0859,49.9551,699.0859,45.9551,695.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="695.0859" y2="695.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.4243" x="55.9551" y="690.02">18. Show verification message</text><polygon fill="#181818" points="414.8091,720.2188,424.8091,724.2188,414.8091,728.2188,418.8091,724.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="724.2188" y2="724.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.3901" x="45.9551" y="719.1528">19. Submit verification code</text><polygon fill="#181818" points="778.7578,749.3516,788.7578,753.3516,778.7578,757.3516,782.7578,753.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="784.7578" y1="753.3516" y2="753.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.6333" x="433.8091" y="748.2856">20. POST /api/auth/verify</text><polygon fill="#181818" points="904.2251,778.4844,914.2251,782.4844,904.2251,786.4844,908.2251,782.4844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="910.2251" y1="782.4844" y2="782.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4673" x="797.7578" y="777.4185">21. Call Verify()</text><polygon fill="#181818" points="1412.75,807.6172,1422.75,811.6172,1412.75,815.6172,1416.75,811.6172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1418.75" y1="811.6172" y2="811.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3486" x="923.2251" y="806.5513">22. VerifyCode()</text><polygon fill="#181818" points="2007.9077,836.75,2017.9077,840.75,2007.9077,844.75,2011.9077,840.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1424.75" x2="2013.9077" y1="840.75" y2="840.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.2339" x="1431.75" y="835.6841">23. Fetch verification code</text><polygon fill="#181818" points="1435.75,865.8828,1425.75,869.8828,1435.75,873.8828,1431.75,869.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1429.75" x2="2018.9077" y1="869.8828" y2="869.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.2412" x="1441.75" y="864.8169">24. Return code</text><polygon fill="#181818" points="927.2251,895.0156,917.2251,899.0156,927.2251,903.0156,923.2251,899.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="921.2251" x2="1423.75" y1="899.0156" y2="899.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.8418" x="933.2251" y="893.9497">25. Verification success</text><polygon fill="#181818" points="1280.7285,924.1484,1290.7285,928.1484,1280.7285,932.1484,1284.7285,928.1484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1286.7285" y1="928.1484" y2="928.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.3257" x="923.2251" y="923.0825">26. GenerateToken()</text><path d="M1297,941.1484 L1297,981.1484 L1559,981.1484 L1559,951.1484 L1549,941.1484 L1297,941.1484 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1549,941.1484 L1549,951.1484 L1559,951.1484 L1549,941.1484 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241.8203" x="1303" y="958.2153">Token includes expiration timestamp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.3931" x="1303" y="973.3481">(7 days from creation)</text><polygon fill="#181818" points="2007.9077,1003.5469,2017.9077,1007.5469,2007.9077,1011.5469,2011.9077,1007.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="1007.5469" y2="1007.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.0142" x="1299.7285" y="1002.481">27. Store token with expiration</text><polygon fill="#181818" points="927.2251,1032.6797,917.2251,1036.6797,927.2251,1040.6797,923.2251,1036.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="921.2251" x2="1291.7285" y1="1036.6797" y2="1036.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3843" x="933.2251" y="1031.6138">28. JWT token</text><polygon fill="#181818" points="437.8091,1061.8125,427.8091,1065.8125,437.8091,1069.8125,433.8091,1065.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="915.2251" y1="1065.8125" y2="1065.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.7881" x="443.8091" y="1060.7466">29. Return token with token_emailed=false</text><polygon fill="#181818" points="49.9551,1090.9453,39.9551,1094.9453,49.9551,1098.9453,45.9551,1094.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="1094.9453" y2="1094.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.2471" x="55.9551" y="1089.8794">30. Show success, store token</text><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="468.8091" y1="1124.0781" y2="1124.0781"/><line style="stroke:#181818;stroke-width:1;" x1="468.8091" x2="468.8091" y1="1124.0781" y2="1137.0781"/><line style="stroke:#181818;stroke-width:1;" x1="427.8091" x2="468.8091" y1="1137.0781" y2="1137.0781"/><polygon fill="#181818" points="437.8091,1133.0781,427.8091,1137.0781,437.8091,1141.0781,433.8091,1137.0781" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.0801" x="433.8091" y="1119.0122">31. Parse token expiration time</text><polygon fill="#181818" points="49.9551,1162.2109,39.9551,1166.2109,49.9551,1170.2109,45.9551,1166.2109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="1166.2109" y2="1166.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363.854" x="55.9551" y="1161.145">32. Display exact expiration date (DD/MM/YYYY HH:MM)</text><path d="M10,1188.2109 L133.2793,1188.2109 L133.2793,1195.3438 L123.2793,1205.3438 L10,1205.3438 L10,1188.2109 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="1054.7813" style="stroke:#000000;stroke-width:1.5;" width="2163.041" x="10" y="1188.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="78.2793" x="25" y="1201.2778">User Login</text><polygon fill="#181818" points="414.8091,1222.4766,424.8091,1226.4766,414.8091,1230.4766,418.8091,1226.4766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="1226.4766" y2="1226.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.4434" x="45.9551" y="1221.4106">1. Submit email for login</text><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="468.8091" y1="1255.6094" y2="1255.6094"/><line style="stroke:#181818;stroke-width:1;" x1="468.8091" x2="468.8091" y1="1255.6094" y2="1268.6094"/><line style="stroke:#181818;stroke-width:1;" x1="427.8091" x2="468.8091" y1="1268.6094" y2="1268.6094"/><polygon fill="#181818" points="437.8091,1264.6094,427.8091,1268.6094,437.8091,1272.6094,433.8091,1268.6094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.9204" x="433.8091" y="1250.5435">2. Validate Turnstile</text><polygon fill="#181818" points="2106.1626,1293.7422,2116.1626,1297.7422,2106.1626,1301.7422,2110.1626,1297.7422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="2112.1626" y1="1297.7422" y2="1297.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.5723" x="433.8091" y="1292.6763">3. Verify human interaction</text><polygon fill="#181818" points="437.8091,1322.875,427.8091,1326.875,437.8091,1330.875,433.8091,1326.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="2117.1626" y1="1326.875" y2="1326.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4355" x="443.8091" y="1321.8091">4. Return token</text><polygon fill="#181818" points="778.7578,1352.0078,788.7578,1356.0078,778.7578,1360.0078,782.7578,1356.0078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="784.7578" y1="1356.0078" y2="1356.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.7627" x="433.8091" y="1350.9419">5. POST /api/auth/login with Turnstile token</text><polygon fill="#181818" points="904.2251,1381.1406,914.2251,1385.1406,904.2251,1389.1406,908.2251,1385.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="910.2251" y1="1385.1406" y2="1385.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3779" x="797.7578" y="1380.0747">6. Call Login()</text><polygon fill="#181818" points="1766.0996,1410.2734,1776.0996,1414.2734,1766.0996,1418.2734,1770.0996,1414.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1772.0996" y1="1414.2734" y2="1414.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.5903" x="923.2251" y="1409.2075">7. Verify Turnstile token</text><polygon fill="#181818" points="2106.1626,1439.4063,2116.1626,1443.4063,2106.1626,1447.4063,2110.1626,1443.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1778.0996" x2="2112.1626" y1="1443.4063" y2="1443.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.6021" x="1785.0996" y="1438.3403">8. Verify token</text><polygon fill="#181818" points="1789.0996,1468.5391,1779.0996,1472.5391,1789.0996,1476.5391,1785.0996,1472.5391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1783.0996" x2="2117.1626" y1="1472.5391" y2="1472.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.5278" x="1795.0996" y="1467.4731">9. Token validation result</text><polygon fill="#181818" points="1280.7285,1497.6719,1290.7285,1501.6719,1280.7285,1505.6719,1284.7285,1501.6719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1286.7285" y1="1501.6719" y2="1501.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.4292" x="923.2251" y="1496.606">10. GetUserByEmail()</text><polygon fill="#181818" points="2007.9077,1526.8047,2017.9077,1530.8047,2007.9077,1534.8047,2011.9077,1530.8047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="1530.8047" y2="1530.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.8018" x="1299.7285" y="1525.7388">11. Query user</text><polygon fill="#181818" points="1303.7285,1555.9375,1293.7285,1559.9375,1303.7285,1563.9375,1299.7285,1559.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1297.7285" x2="2018.9077" y1="1559.9375" y2="1559.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.6592" x="1309.7285" y="1554.8716">12. Return user data</text><polygon fill="#181818" points="1412.75,1585.0703,1422.75,1589.0703,1412.75,1593.0703,1416.75,1589.0703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1418.75" y1="1589.0703" y2="1589.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.6255" x="923.2251" y="1584.0044">13. GenerateVerificationCode("login")</text><polygon fill="#181818" points="2007.9077,1614.2031,2017.9077,1618.2031,2007.9077,1622.2031,2011.9077,1618.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1424.75" x2="2013.9077" y1="1618.2031" y2="1618.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7363" x="1431.75" y="1613.1372">14. Store login code</text><polygon fill="#181818" points="1280.7285,1643.3359,1290.7285,1647.3359,1280.7285,1651.3359,1284.7285,1647.3359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1286.7285" y1="1647.3359" y2="1647.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.8105" x="923.2251" y="1642.27">15. SendVerificationEmail()</text><polygon fill="#181818" points="927.2251,1672.4688,917.2251,1676.4688,927.2251,1680.4688,923.2251,1676.4688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="921.2251" x2="1291.7285" y1="1676.4688" y2="1676.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.1138" x="933.2251" y="1671.4028">16. Email sent</text><polygon fill="#181818" points="437.8091,1701.6016,427.8091,1705.6016,437.8091,1709.6016,433.8091,1705.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="915.2251" y1="1705.6016" y2="1705.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.6006" x="443.8091" y="1700.5356">17. Success response</text><polygon fill="#181818" points="49.9551,1730.7344,39.9551,1734.7344,49.9551,1738.7344,45.9551,1734.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="1734.7344" y2="1734.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.4243" x="55.9551" y="1729.6685">18. Show verification message</text><polygon fill="#181818" points="414.8091,1759.8672,424.8091,1763.8672,414.8091,1767.8672,418.8091,1763.8672" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="1763.8672" y2="1763.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.3901" x="45.9551" y="1758.8013">19. Submit verification code</text><polygon fill="#181818" points="778.7578,1789,788.7578,1793,778.7578,1797,782.7578,1793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="784.7578" y1="1793" y2="1793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.6333" x="433.8091" y="1787.9341">20. POST /api/auth/verify</text><polygon fill="#181818" points="904.2251,1818.1328,914.2251,1822.1328,904.2251,1826.1328,908.2251,1822.1328" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="910.2251" y1="1822.1328" y2="1822.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4673" x="797.7578" y="1817.0669">21. Call Verify()</text><polygon fill="#181818" points="1412.75,1847.2656,1422.75,1851.2656,1412.75,1855.2656,1416.75,1851.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1418.75" y1="1851.2656" y2="1851.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3486" x="923.2251" y="1846.1997">22. VerifyCode()</text><polygon fill="#181818" points="2007.9077,1876.3984,2017.9077,1880.3984,2007.9077,1884.3984,2011.9077,1880.3984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1424.75" x2="2013.9077" y1="1880.3984" y2="1880.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.2339" x="1431.75" y="1875.3325">23. Fetch verification code</text><polygon fill="#181818" points="1435.75,1905.5313,1425.75,1909.5313,1435.75,1913.5313,1431.75,1909.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1429.75" x2="2018.9077" y1="1909.5313" y2="1909.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.2412" x="1441.75" y="1904.4653">24. Return code</text><polygon fill="#181818" points="927.2251,1934.6641,917.2251,1938.6641,927.2251,1942.6641,923.2251,1938.6641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="921.2251" x2="1423.75" y1="1938.6641" y2="1938.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.8418" x="933.2251" y="1933.5981">25. Verification success</text><polygon fill="#181818" points="1280.7285,1963.7969,1290.7285,1967.7969,1280.7285,1971.7969,1284.7285,1967.7969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1286.7285" y1="1967.7969" y2="1967.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.3257" x="923.2251" y="1962.731">26. GenerateToken()</text><path d="M1297,1980.7969 L1297,2020.7969 L1559,2020.7969 L1559,1990.7969 L1549,1980.7969 L1297,1980.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1549,1980.7969 L1549,1990.7969 L1559,1990.7969 L1549,1980.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241.8203" x="1303" y="1997.8638">Token includes expiration timestamp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.3931" x="1303" y="2012.9966">(7 days from creation)</text><polygon fill="#181818" points="2007.9077,2043.1953,2017.9077,2047.1953,2007.9077,2051.1953,2011.9077,2047.1953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="2047.1953" y2="2047.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.0142" x="1299.7285" y="2042.1294">27. Store token with expiration</text><polygon fill="#181818" points="2007.9077,2072.3281,2017.9077,2076.3281,2007.9077,2080.3281,2011.9077,2076.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="2076.3281" y2="2076.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.6362" x="1299.7285" y="2071.2622">28. Update last_login</text><polygon fill="#181818" points="927.2251,2101.4609,917.2251,2105.4609,927.2251,2109.4609,923.2251,2105.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="921.2251" x2="1291.7285" y1="2105.4609" y2="2105.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3843" x="933.2251" y="2100.395">29. JWT token</text><polygon fill="#181818" points="437.8091,2130.5938,427.8091,2134.5938,437.8091,2138.5938,433.8091,2134.5938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="915.2251" y1="2134.5938" y2="2134.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.7881" x="443.8091" y="2129.5278">30. Return token with token_emailed=false</text><polygon fill="#181818" points="49.9551,2159.7266,39.9551,2163.7266,49.9551,2167.7266,45.9551,2163.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="2163.7266" y2="2163.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.2471" x="55.9551" y="2158.6606">31. Show success, store token</text><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="468.8091" y1="2192.8594" y2="2192.8594"/><line style="stroke:#181818;stroke-width:1;" x1="468.8091" x2="468.8091" y1="2192.8594" y2="2205.8594"/><line style="stroke:#181818;stroke-width:1;" x1="427.8091" x2="468.8091" y1="2205.8594" y2="2205.8594"/><polygon fill="#181818" points="437.8091,2201.8594,427.8091,2205.8594,437.8091,2209.8594,433.8091,2205.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.0801" x="433.8091" y="2187.7935">32. Parse token expiration time</text><polygon fill="#181818" points="49.9551,2230.9922,39.9551,2234.9922,49.9551,2238.9922,45.9551,2234.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="2234.9922" y2="2234.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363.854" x="55.9551" y="2229.9263">33. Display exact expiration date (DD/MM/YYYY HH:MM)</text><path d="M10,2256.9922 L323.3726,2256.9922 L323.3726,2264.125 L313.3726,2274.125 L10,2274.125 L10,2256.9922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="644.7891" style="stroke:#000000;stroke-width:1.5;" width="2063.2842" x="10" y="2256.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="268.3726" x="25" y="2270.0591">Get Domain Data (IdP) with Filtering</text><polygon fill="#181818" points="414.8091,2291.2578,424.8091,2295.2578,414.8091,2299.2578,418.8091,2295.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="2295.2578" y2="2295.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.1416" x="45.9551" y="2290.1919">1. Select domain from dropdown</text><polygon fill="#181818" points="414.8091,2320.3906,424.8091,2324.3906,414.8091,2328.3906,418.8091,2324.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="2324.3906" y2="2324.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.0981" x="45.9551" y="2319.3247">2. Select days value</text><polygon fill="#181818" points="778.7578,2349.5234,788.7578,2353.5234,778.7578,2357.5234,782.7578,2353.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="784.7578" y1="2353.5234" y2="2353.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286.2095" x="433.8091" y="2348.4575">3. GET /api/eduroam/idp/{domain}?days=N</text><path d="M795,2366.5234 L795,2391.5234 L1038,2391.5234 L1038,2376.5234 L1028,2366.5234 L795,2366.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1028,2366.5234 L1028,2376.5234 L1038,2376.5234 L1028,2366.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.6948" x="801" y="2383.5903">JWT token in Authorization header</text><polygon fill="#181818" points="1280.7285,2413.7891,1290.7285,2417.7891,1280.7285,2421.7891,1284.7285,2417.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1286.7285" y1="2417.7891" y2="2417.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.5981" x="797.7578" y="2412.7231">4. Call middleware ValidateToken()</text><polygon fill="#181818" points="2007.9077,2442.9219,2017.9077,2446.9219,2007.9077,2450.9219,2011.9077,2446.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="2446.9219" y2="2446.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.4746" x="1299.7285" y="2441.856">5. Check token</text><polygon fill="#181818" points="1303.7285,2472.0547,1293.7285,2476.0547,1303.7285,2480.0547,1299.7285,2476.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1297.7285" x2="2018.9077" y1="2476.0547" y2="2476.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.4634" x="1309.7285" y="2470.9888">6. Token valid</text><polygon fill="#181818" points="1164.457,2501.1875,1174.457,2505.1875,1164.457,2509.1875,1168.457,2505.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1170.457" y1="2505.1875" y2="2505.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.1387" x="797.7578" y="2500.1216">7. Call DomainAccessMiddleware()</text><polygon fill="#181818" points="2007.9077,2530.3203,2017.9077,2534.3203,2007.9077,2538.3203,2011.9077,2534.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1176.457" x2="2013.9077" y1="2534.3203" y2="2534.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.2822" x="1183.457" y="2529.2544">8. Check domain access</text><polygon fill="#181818" points="1187.457,2559.4531,1177.457,2563.4531,1187.457,2567.4531,1183.457,2563.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1181.457" x2="2018.9077" y1="2563.4531" y2="2563.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.7144" x="1193.457" y="2558.3872">9. Access permitted</text><polygon fill="#181818" points="1031.3281,2588.5859,1041.3281,2592.5859,1031.3281,2596.5859,1035.3281,2592.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1037.3281" y1="2592.5859" y2="2592.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.8965" x="797.7578" y="2587.52">10. Call GetIdpData()</text><polygon fill="#181818" points="1559.937,2617.7188,1569.937,2621.7188,1559.937,2625.7188,1563.937,2621.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1043.3281" x2="1565.937" y1="2621.7188" y2="2621.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.1328" x="1050.3281" y="2616.6528">11. GetIdpData(domain, days)</text><line style="stroke:#181818;stroke-width:1;" x1="1571.937" x2="1613.937" y1="2650.8516" y2="2650.8516"/><line style="stroke:#181818;stroke-width:1;" x1="1613.937" x2="1613.937" y1="2650.8516" y2="2663.8516"/><line style="stroke:#181818;stroke-width:1;" x1="1572.937" x2="1613.937" y1="2663.8516" y2="2663.8516"/><polygon fill="#181818" points="1582.937,2659.8516,1572.937,2663.8516,1582.937,2667.8516,1578.937,2663.8516" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.7881" x="1578.937" y="2645.7856">12. normalizeRealmName()</text><polygon fill="#181818" points="1897.0581,2688.9844,1907.0581,2692.9844,1897.0581,2696.9844,1901.0581,2692.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1571.937" x2="1903.0581" y1="2692.9844" y2="2692.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.6128" x="1578.937" y="2687.9185">13. SendRequest() with date filter</text><polygon fill="#181818" points="1582.937,2718.1172,1572.937,2722.1172,1582.937,2726.1172,1578.937,2722.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1576.937" x2="1908.0581" y1="2722.1172" y2="2722.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.4048" x="1588.937" y="2717.0513">14. Return Quickwit data</text><line style="stroke:#181818;stroke-width:1;" x1="1571.937" x2="1613.937" y1="2751.25" y2="2751.25"/><line style="stroke:#181818;stroke-width:1;" x1="1613.937" x2="1613.937" y1="2751.25" y2="2764.25"/><line style="stroke:#181818;stroke-width:1;" x1="1572.937" x2="1613.937" y1="2764.25" y2="2764.25"/><polygon fill="#181818" points="1582.937,2760.25,1572.937,2764.25,1582.937,2768.25,1578.937,2764.25" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.1626" x="1578.937" y="2746.1841">15. processIdpAggregations()</text><polygon fill="#181818" points="1054.3281,2789.3828,1044.3281,2793.3828,1054.3281,2797.3828,1050.3281,2793.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1048.3281" x2="1570.937" y1="2793.3828" y2="2793.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.7959" x="1060.3281" y="2788.3169">16. Return processed data</text><polygon fill="#181818" points="437.8091,2818.5156,427.8091,2822.5156,437.8091,2826.5156,433.8091,2822.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="1042.3281" y1="2822.5156" y2="2822.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.3135" x="443.8091" y="2817.4497">17. JSON response</text><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="468.8091" y1="2851.6484" y2="2851.6484"/><line style="stroke:#181818;stroke-width:1;" x1="468.8091" x2="468.8091" y1="2851.6484" y2="2864.6484"/><line style="stroke:#181818;stroke-width:1;" x1="427.8091" x2="468.8091" y1="2864.6484" y2="2864.6484"/><polygon fill="#181818" points="437.8091,2860.6484,427.8091,2864.6484,437.8091,2868.6484,433.8091,2864.6484" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239.5415" x="433.8091" y="2846.5825">18. Auto-update chart with new data</text><polygon fill="#181818" points="49.9551,2889.7813,39.9551,2893.7813,49.9551,2897.7813,45.9551,2893.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="2893.7813" y2="2893.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.8193" x="55.9551" y="2888.7153">19. Display filtered IdP data</text><path d="M10,2915.7813 L195.4292,2915.7813 L195.4292,2922.9141 L185.4292,2932.9141 L10,2932.9141 L10,2915.7813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="581.6563" style="stroke:#000000;stroke-width:1.5;" width="2063.2842" x="10" y="2915.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140.4292" x="25" y="2928.8481">Get My Usage Data</text><polygon fill="#181818" points="414.8091,2950.0469,424.8091,2954.0469,414.8091,2958.0469,418.8091,2954.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="2954.0469" y2="2954.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.1899" x="45.9551" y="2948.981">1. Request my usage data</text><polygon fill="#181818" points="778.7578,2979.1797,788.7578,2983.1797,778.7578,2987.1797,782.7578,2983.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="784.7578" y1="2983.1797" y2="2983.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.7617" x="433.8091" y="2978.1138">2. GET /api/eduroam/my-usage?days=N</text><path d="M795,2996.1797 L795,3021.1797 L1038,3021.1797 L1038,3006.1797 L1028,2996.1797 L795,2996.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1028,2996.1797 L1028,3006.1797 L1038,3006.1797 L1028,2996.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.6948" x="801" y="3013.2466">JWT token in Authorization header</text><polygon fill="#181818" points="1280.7285,3043.4453,1290.7285,3047.4453,1280.7285,3051.4453,1284.7285,3047.4453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1286.7285" y1="3047.4453" y2="3047.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.5981" x="797.7578" y="3042.3794">3. Call middleware ValidateToken()</text><polygon fill="#181818" points="2007.9077,3072.5781,2017.9077,3076.5781,2007.9077,3080.5781,2011.9077,3076.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="3076.5781" y2="3076.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.4746" x="1299.7285" y="3071.5122">4. Check token</text><polygon fill="#181818" points="1303.7285,3101.7109,1293.7285,3105.7109,1303.7285,3109.7109,1299.7285,3105.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1297.7285" x2="2018.9077" y1="3105.7109" y2="3105.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.4634" x="1309.7285" y="3100.645">5. Token valid</text><polygon fill="#181818" points="1031.3281,3130.8438,1041.3281,3134.8438,1031.3281,3138.8438,1035.3281,3134.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1037.3281" y1="3134.8438" y2="3134.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.6616" x="797.7578" y="3129.7778">6. Call GetMyUsage()</text><polygon fill="#181818" points="1280.7285,3159.9766,1290.7285,3163.9766,1280.7285,3167.9766,1284.7285,3163.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1043.3281" x2="1286.7285" y1="3163.9766" y2="3163.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.1768" x="1050.3281" y="3158.9106">7. GetUserById()</text><polygon fill="#181818" points="2007.9077,3189.1094,2017.9077,3193.1094,2007.9077,3197.1094,2011.9077,3193.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="3193.1094" y2="3193.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.5308" x="1299.7285" y="3188.0435">8. Query user</text><polygon fill="#181818" points="1303.7285,3218.2422,1293.7285,3222.2422,1303.7285,3226.2422,1299.7285,3222.2422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1297.7285" x2="2018.9077" y1="3222.2422" y2="3222.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.3882" x="1309.7285" y="3217.1763">9. Return user data</text><polygon fill="#181818" points="1559.937,3247.375,1569.937,3251.375,1559.937,3255.375,1563.937,3251.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1043.3281" x2="1565.937" y1="3251.375" y2="3251.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.2544" x="1050.3281" y="3246.3091">10. GetUserUsage()</text><polygon fill="#181818" points="1897.0581,3276.5078,1907.0581,3280.5078,1897.0581,3284.5078,1901.0581,3280.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1571.937" x2="1903.0581" y1="3280.5078" y2="3280.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.0815" x="1578.937" y="3275.4419">11. SendRequest()</text><polygon fill="#181818" points="1582.937,3305.6406,1572.937,3309.6406,1582.937,3313.6406,1578.937,3309.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1576.937" x2="1908.0581" y1="3309.6406" y2="3309.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.4048" x="1588.937" y="3304.5747">12. Return Quickwit data</text><line style="stroke:#181818;stroke-width:1;" x1="1571.937" x2="1613.937" y1="3338.7734" y2="3338.7734"/><line style="stroke:#181818;stroke-width:1;" x1="1613.937" x2="1613.937" y1="3338.7734" y2="3351.7734"/><line style="stroke:#181818;stroke-width:1;" x1="1572.937" x2="1613.937" y1="3351.7734" y2="3351.7734"/><polygon fill="#181818" points="1582.937,3347.7734,1572.937,3351.7734,1582.937,3355.7734,1578.937,3351.7734" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.3271" x="1578.937" y="3333.7075">13. processUserUsage()</text><path d="M1576,3364.7734 L1576,3404.7734 L1784,3404.7734 L1784,3374.7734 L1774,3364.7734 L1576,3364.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1774,3364.7734 L1774,3374.7734 L1784,3374.7734 L1774,3364.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.0068" x="1582" y="3381.8403">Process and group data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.2622" x="1582" y="3396.9731">by date and service provider</text><polygon fill="#181818" points="1054.3281,3427.1719,1044.3281,3431.1719,1054.3281,3435.1719,1050.3281,3431.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1048.3281" x2="1570.937" y1="3431.1719" y2="3431.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.7959" x="1060.3281" y="3426.106">14. Return processed data</text><polygon fill="#181818" points="437.8091,3456.3047,427.8091,3460.3047,437.8091,3464.3047,433.8091,3460.3047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="1042.3281" y1="3460.3047" y2="3460.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.3135" x="443.8091" y="3455.2388">15. JSON response</text><polygon fill="#181818" points="49.9551,3485.4375,39.9551,3489.4375,49.9551,3493.4375,45.9551,3489.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="3489.4375" y2="3489.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.5" x="55.9551" y="3484.3716">16. Display usage data</text><path d="M10,3511.4375 L280.5068,3511.4375 L280.5068,3518.5703 L270.5068,3528.5703 L10,3528.5703 L10,3511.4375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="633.6563" style="stroke:#000000;stroke-width:1.5;" width="2152.2422" x="10" y="3511.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="225.5068" x="25" y="3524.5044">Get Service Provider Data (SP)</text><polygon fill="#181818" points="414.8091,3545.7031,424.8091,3549.7031,414.8091,3553.7031,418.8091,3549.7031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="3549.7031" y2="3549.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.0981" x="45.9551" y="3544.6372">1. Select days value</text><polygon fill="#181818" points="778.7578,3574.8359,788.7578,3578.8359,778.7578,3582.8359,782.7578,3578.8359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="784.7578" y1="3578.8359" y2="3578.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339.9487" x="433.8091" y="3573.77">2. GET /api/eduroam/sp/{service_provider}?days=N</text><path d="M795,3591.8359 L795,3616.8359 L1038,3616.8359 L1038,3601.8359 L1028,3591.8359 L795,3591.8359 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1028,3591.8359 L1028,3601.8359 L1038,3601.8359 L1028,3591.8359 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.6948" x="801" y="3608.9028">JWT token in Authorization header</text><polygon fill="#181818" points="1280.7285,3639.1016,1290.7285,3643.1016,1280.7285,3647.1016,1284.7285,3643.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1286.7285" y1="3643.1016" y2="3643.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.5981" x="797.7578" y="3638.0356">3. Call middleware ValidateToken()</text><polygon fill="#181818" points="2007.9077,3668.2344,2017.9077,3672.2344,2007.9077,3676.2344,2011.9077,3672.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="3672.2344" y2="3672.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.4746" x="1299.7285" y="3667.1685">4. Check token</text><polygon fill="#181818" points="1303.7285,3697.3672,1293.7285,3701.3672,1303.7285,3705.3672,1299.7285,3701.3672" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1297.7285" x2="2018.9077" y1="3701.3672" y2="3701.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.4634" x="1309.7285" y="3696.3013">5. Token valid</text><polygon fill="#181818" points="1031.3281,3726.5,1041.3281,3730.5,1031.3281,3734.5,1035.3281,3730.5" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1037.3281" y1="3730.5" y2="3730.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.7915" x="797.7578" y="3725.4341">6. Call GetSpData()</text><polygon fill="#181818" points="1559.937,3755.6328,1569.937,3759.6328,1559.937,3763.6328,1563.937,3759.6328" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1043.3281" x2="1565.937" y1="3759.6328" y2="3759.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.3921" x="1050.3281" y="3754.5669">7. GetSpData()</text><line style="stroke:#181818;stroke-width:1;" x1="1571.937" x2="1613.937" y1="3788.7656" y2="3788.7656"/><line style="stroke:#181818;stroke-width:1;" x1="1613.937" x2="1613.937" y1="3788.7656" y2="3801.7656"/><line style="stroke:#181818;stroke-width:1;" x1="1572.937" x2="1613.937" y1="3801.7656" y2="3801.7656"/><polygon fill="#181818" points="1582.937,3797.7656,1572.937,3801.7656,1582.937,3805.7656,1578.937,3801.7656" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.5171" x="1578.937" y="3783.6997">8. normalizeRealmName()</text><path d="M1576,3814.7656 L1576,3839.7656 L1787,3839.7656 L1787,3824.7656 L1777,3814.7656 L1576,3814.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1777,3814.7656 L1777,3824.7656 L1787,3824.7656 L1777,3814.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.5884" x="1582" y="3831.8325">Normalize SP name for query</text><polygon fill="#181818" points="1897.0581,3862.0313,1907.0581,3866.0313,1897.0581,3870.0313,1901.0581,3866.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1571.937" x2="1903.0581" y1="3866.0313" y2="3866.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.3418" x="1578.937" y="3860.9653">9. SendRequest() with date filter</text><path d="M1914,3879.0313 L1914,3904.0313 L2152,3904.0313 L2152,3889.0313 L2142,3879.0313 L1914,3879.0313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2142,3879.0313 L2142,3889.0313 L2152,3889.0313 L2142,3879.0313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.2422" x="1920" y="3896.0981">Query with service_provider filter</text><polygon fill="#181818" points="1582.937,3926.2969,1572.937,3930.2969,1582.937,3934.2969,1578.937,3930.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1576.937" x2="1908.0581" y1="3930.2969" y2="3930.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.4048" x="1588.937" y="3925.231">10. Return Quickwit data</text><line style="stroke:#181818;stroke-width:1;" x1="1571.937" x2="1613.937" y1="3959.4297" y2="3959.4297"/><line style="stroke:#181818;stroke-width:1;" x1="1613.937" x2="1613.937" y1="3959.4297" y2="3972.4297"/><line style="stroke:#181818;stroke-width:1;" x1="1572.937" x2="1613.937" y1="3972.4297" y2="3972.4297"/><polygon fill="#181818" points="1582.937,3968.4297,1572.937,3972.4297,1582.937,3976.4297,1578.937,3972.4297" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.3286" x="1578.937" y="3954.3638">11. processSpAggregations()</text><path d="M1576,3985.4297 L1576,4010.4297 L1816,4010.4297 L1816,3995.4297 L1806,3985.4297 L1576,3985.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1806,3985.4297 L1806,3995.4297 L1816,3995.4297 L1806,3985.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.6606" x="1582" y="4002.4966">Process data by realms and users</text><polygon fill="#181818" points="1054.3281,4032.6953,1044.3281,4036.6953,1054.3281,4040.6953,1050.3281,4036.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1048.3281" x2="1570.937" y1="4036.6953" y2="4036.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.7959" x="1060.3281" y="4031.6294">12. Return processed data</text><polygon fill="#181818" points="437.8091,4061.8281,427.8091,4065.8281,437.8091,4069.8281,433.8091,4065.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="1042.3281" y1="4065.8281" y2="4065.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.3135" x="443.8091" y="4060.7622">13. JSON response</text><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="468.8091" y1="4094.9609" y2="4094.9609"/><line style="stroke:#181818;stroke-width:1;" x1="468.8091" x2="468.8091" y1="4094.9609" y2="4107.9609"/><line style="stroke:#181818;stroke-width:1;" x1="427.8091" x2="468.8091" y1="4107.9609" y2="4107.9609"/><polygon fill="#181818" points="437.8091,4103.9609,427.8091,4107.9609,437.8091,4111.9609,433.8091,4107.9609" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239.5415" x="433.8091" y="4089.895">14. Auto-update chart with new data</text><polygon fill="#181818" points="49.9551,4133.0938,39.9551,4137.0938,49.9551,4141.0938,45.9551,4137.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="4137.0938" y2="4137.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.3628" x="55.9551" y="4132.0278">15. Display SP data</text><path d="M10,4159.0938 L262.1177,4159.0938 L262.1177,4166.2266 L252.1177,4176.2266 L10,4176.2266 L10,4159.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="437.9922" style="stroke:#000000;stroke-width:1.5;" width="2063.2842" x="10" y="4159.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="207.1177" x="25" y="4172.1606">Admin Domain Management</text><polygon fill="#181818" points="414.8091,4193.3594,424.8091,4197.3594,414.8091,4201.3594,418.8091,4197.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="4197.3594" y2="4197.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185.6753" x="45.9551" y="4192.2935">1. Request to assign domain</text><polygon fill="#181818" points="778.7578,4222.4922,788.7578,4226.4922,778.7578,4230.4922,782.7578,4226.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="784.7578" y1="4226.4922" y2="4226.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256.3882" x="433.8091" y="4221.4263">2. POST /api/admin/users/{id}/domains</text><polygon fill="#181818" points="1280.7285,4251.625,1290.7285,4255.625,1280.7285,4259.625,1284.7285,4255.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1286.7285" y1="4255.625" y2="4255.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.5981" x="797.7578" y="4250.5591">3. Call middleware ValidateToken()</text><polygon fill="#181818" points="2007.9077,4280.7578,2017.9077,4284.7578,2007.9077,4288.7578,2011.9077,4284.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="4284.7578" y2="4284.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.4746" x="1299.7285" y="4279.6919">4. Check token</text><polygon fill="#181818" points="1303.7285,4309.8906,1293.7285,4313.8906,1303.7285,4317.8906,1299.7285,4313.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1297.7285" x2="2018.9077" y1="4313.8906" y2="4313.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.4634" x="1309.7285" y="4308.8247">5. Token valid</text><polygon fill="#181818" points="1164.457,4339.0234,1174.457,4343.0234,1164.457,4347.0234,1168.457,4343.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1170.457" y1="4343.0234" y2="4343.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.6216" x="797.7578" y="4337.9575">6. Call AdminMiddleware()</text><line style="stroke:#181818;stroke-width:1;" x1="1176.457" x2="1218.457" y1="4372.1563" y2="4372.1563"/><line style="stroke:#181818;stroke-width:1;" x1="1218.457" x2="1218.457" y1="4372.1563" y2="4385.1563"/><line style="stroke:#181818;stroke-width:1;" x1="1177.457" x2="1218.457" y1="4385.1563" y2="4385.1563"/><polygon fill="#181818" points="1187.457,4381.1563,1177.457,4385.1563,1187.457,4389.1563,1183.457,4385.1563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.9458" x="1183.457" y="4367.0903">7. IsAdmin()</text><polygon fill="#181818" points="2007.9077,4410.2891,2017.9077,4414.2891,2007.9077,4418.2891,2011.9077,4414.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1176.457" x2="2013.9077" y1="4414.2891" y2="4414.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.4692" x="1183.457" y="4409.2231">8. Check admin status</text><polygon fill="#181818" points="1187.457,4439.4219,1177.457,4443.4219,1187.457,4447.4219,1183.457,4443.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1181.457" x2="2018.9077" y1="4443.4219" y2="4443.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.5488" x="1193.457" y="4438.356">9. User is admin</text><polygon fill="#181818" points="1164.457,4468.5547,1174.457,4472.5547,1164.457,4476.5547,1168.457,4472.5547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1170.457" y1="4472.5547" y2="4472.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.3364" x="797.7578" y="4467.4888">10. Call AssignDomain()</text><polygon fill="#181818" points="2007.9077,4497.6875,2017.9077,4501.6875,2007.9077,4505.6875,2011.9077,4501.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1176.457" x2="2013.9077" y1="4501.6875" y2="4501.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.8491" x="1183.457" y="4496.6216">11. Insert domain access</text><polygon fill="#181818" points="1187.457,4526.8203,1177.457,4530.8203,1187.457,4534.8203,1183.457,4530.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1181.457" x2="2018.9077" y1="4530.8203" y2="4530.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.249" x="1193.457" y="4525.7544">12. Domain assigned</text><polygon fill="#181818" points="437.8091,4555.9531,427.8091,4559.9531,437.8091,4563.9531,433.8091,4559.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="1175.457" y1="4559.9531" y2="4559.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.6006" x="443.8091" y="4554.8872">13. Success response</text><polygon fill="#181818" points="49.9551,4585.0859,39.9551,4589.0859,49.9551,4593.0859,45.9551,4589.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="4589.0859" y2="4589.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.4233" x="55.9551" y="4584.02">14. Show success message</text><path d="M10,4611.0859 L143.9688,4611.0859 L143.9688,4618.2188 L133.9688,4628.2188 L10,4628.2188 L10,4611.0859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="379.7266" style="stroke:#000000;stroke-width:1.5;" width="2063.2842" x="10" y="4611.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="88.9688" x="25" y="4624.1528">User Logout</text><polygon fill="#181818" points="414.8091,4645.3516,424.8091,4649.3516,414.8091,4653.3516,418.8091,4649.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="420.8091" y1="4649.3516" y2="4649.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.1655" x="45.9551" y="4644.2856">1. Request logout</text><polygon fill="#181818" points="778.7578,4674.4844,788.7578,4678.4844,778.7578,4682.4844,782.7578,4678.4844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="784.7578" y1="4678.4844" y2="4678.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.5518" x="433.8091" y="4673.4185">2. POST /api/auth/logout</text><polygon fill="#181818" points="1280.7285,4703.6172,1290.7285,4707.6172,1280.7285,4711.6172,1284.7285,4707.6172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="1286.7285" y1="4707.6172" y2="4707.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.5981" x="797.7578" y="4702.5513">3. Call middleware ValidateToken()</text><polygon fill="#181818" points="2007.9077,4732.75,2017.9077,4736.75,2007.9077,4740.75,2011.9077,4736.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="4736.75" y2="4736.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.4746" x="1299.7285" y="4731.6841">4. Check token</text><polygon fill="#181818" points="1303.7285,4761.8828,1293.7285,4765.8828,1303.7285,4769.8828,1299.7285,4765.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1297.7285" x2="2018.9077" y1="4765.8828" y2="4765.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.4634" x="1309.7285" y="4760.8169">5. Token valid</text><polygon fill="#181818" points="904.2251,4791.0156,914.2251,4795.0156,904.2251,4799.0156,908.2251,4795.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="790.7578" x2="910.2251" y1="4795.0156" y2="4795.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.8169" x="797.7578" y="4789.9497">6. Call Logout()</text><polygon fill="#181818" points="1280.7285,4820.1484,1290.7285,4824.1484,1280.7285,4828.1484,1284.7285,4824.1484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="916.2251" x2="1286.7285" y1="4824.1484" y2="4824.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6055" x="923.2251" y="4819.0825">7. BlacklistToken()</text><polygon fill="#181818" points="2007.9077,4849.2813,2017.9077,4853.2813,2007.9077,4857.2813,2011.9077,4853.2813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1292.7285" x2="2013.9077" y1="4853.2813" y2="4853.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.7505" x="1299.7285" y="4848.2153">8. Blacklist token</text><polygon fill="#181818" points="1303.7285,4878.4141,1293.7285,4882.4141,1303.7285,4886.4141,1299.7285,4882.4141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1297.7285" x2="2018.9077" y1="4882.4141" y2="4882.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.6279" x="1309.7285" y="4877.3481">9. Token invalidated</text><polygon fill="#181818" points="437.8091,4907.5469,427.8091,4911.5469,437.8091,4915.5469,433.8091,4911.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8091" x2="915.2251" y1="4911.5469" y2="4911.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.5283" x="443.8091" y="4906.481">10. Logout success</text><line style="stroke:#181818;stroke-width:1;" x1="426.8091" x2="468.8091" y1="4940.6797" y2="4940.6797"/><line style="stroke:#181818;stroke-width:1;" x1="468.8091" x2="468.8091" y1="4940.6797" y2="4953.6797"/><line style="stroke:#181818;stroke-width:1;" x1="427.8091" x2="468.8091" y1="4953.6797" y2="4953.6797"/><polygon fill="#181818" points="437.8091,4949.6797,427.8091,4953.6797,437.8091,4957.6797,433.8091,4953.6797" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.9414" x="433.8091" y="4935.6138">11. Clear token from storage</text><polygon fill="#181818" points="49.9551,4978.8125,39.9551,4982.8125,49.9551,4986.8125,45.9551,4982.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.9551" x2="425.8091" y1="4982.8125" y2="4982.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2725" x="55.9551" y="4977.7466">12. Redirect to login</text><!--SRC=[xLbjJniv4FwUNs7nvO9K4bZUaNed8ALDrT2Kq9vEGghChaaizgss5owj-jzl_BAxzcOtMTAUrBkMBn1dnZFsFFFCUC2-I1Xwpmdht2PP760sHniNB8a5YGFKlIBO5viR27EKBtPy-CsI46sSZeVeAia4OKf0_zb9CHFKfocE1OXaOlOAnq5ePApFhk2B86C9ZcnPTwcoRn3HsDdOMbXqOKBO0_L9uOBvx0f-88pUKHyBciIsGirwhU-sZhlaYbzdBEQ2XiHMg2wwAkyowjy_Kd4UKX8BfU0kTG8iy2tc16sC4owcZ4pUlL5oWpC8M1WINxhFqSPvc6J1NOWPkOaBeqgo_ARJ-Kr10bsHAUM2gQEZYp1vx4nPagMBNtOG_AZLhTyBf9oWdHwQPBSH5OX4c8Re3h36wJJEKgLGuCnHydhe0mufd8YKrx8WNtfxWdPxEaXpDCiY72CAKWpxXMEbBDfoJEtru1G2R22Ht9DumOY6z0dQxw7nsyarwkEKzZ40gAzFWI00iz99QnUjAVUm87-23dhe78SXcYZrxgQIjIIaGXKA9-YmE5-TgQfyzNQE2krIft8ZYoQFU-XQIgC77Ge904Pu5eewbwsSWg1lmo4PWV19G5XdjFmRd84Se6COWuX0CNb4cUGWAJeuKpwvUtf5fAGS6WxgtAZ9L505TBmaCG1245lWF0c8SQv6ht0I8381YYJemH92FYYllWY0pGIGP6__GkQ1CHidW716fpE1aZjNzMqSpX47NRvezoO6HIkMpjLM0RS3Y5CsvMuriNFJzL3cg-yJpcMmKo2CQkA1l8mgo0Ai9hFaqVKl0bKyrKfDd71Sa4BzbTObeBUza85AURuisRmTasqQ_lNPLeiPpyjpfXrAFC3O1H7-hE581jBrjaeIAkGRJBcds-yvSeZhoAs4fNTG9eJAyTLmr5H0Op_C0i8H-JkbfYW82Y4NE4flukuX2l2SepkMHCYN1002ZTdl7UQ9fP2icRJSU3MoFG3Wwp-lAubG3spls2LwRKtz-L5L9X8ylyDXCzftjmtQpIK_GxpqVKajsmK8ZZ7Z-IahDzTe3l0te3mDyHnKe9BPYgemTWU3_cZK_mj-qAjN9wFHPaVsPddXVfDCwMB5LgjFADLX8VyVhjJg46iNQdLb_zyw_P882OMpkLsN6chrkup0u-19PLfsfT-dK6-eC6uyeLxhk7-NGlshmlwgi3z1XJLg0BltgUBq47FniIm2oylnSVjoBAlfjvNZdJNBiRTUETvTlnm3my9hPGoHm8AhYgnFEqZWe362-q43kSC53I73Q3mr1Llg6Hdu7gFkC1XlQjLIjBcK4_dYHu7UGE4bO4aQ98zDzTyhbIJ4e9napMGXcVg5eGgYHnrz6gJzBzhWrp_a7iylQq2Vxr101J2la98m-bbVw8pWmDGObtQAPDaph1FH0D3rAAjZteVOwLO3RiZeyndnxosarDMn0wUgLbsnHasgvYjVTAnE5Hn7XL-v9vPAxifHxee94Ywv9NV9CGJvfNT7AM70xO9K7NC7PkOXBdq3B0s3LCB8-EDAMhfbITpfsMhQnsSA6yuMrlqkR06GYXCMmHL-9bS4Xz4bZaYtITqTQEbsG1RbA_8f0mBi6l2hTBjJ6Q0sSjNKlIquKl9_Bbrs9YtE0Q19MIAl7gxZT3fbPAgGoXlEKXUAWy85inK95dneRXbUJzvUDlKBZYo02e2SR6MQmFqPPaBVcnon50RhketZakFqzOA7m3bQoP3PQ0xIq7reIhAU5vAjd2-RgSd44qMobvJYDLvPRKaDqqJpBQNvBxFCxjeiizUEPVQNiKmLGGTbBe_cwfuRSzanScWr-SEWsUUZLWt-SKD_tu9GojT6ZVVBU62dmWEjqzxxjhJVBTA-whGBjghYM2kfqgwpGrgzYM_dchpaEZTsmS03pN7OXaVsrkUH_UKyKZB1GSa4LeOQ2iYz6nlFIof0tSbuq-A3UaabjB9lMTs2r143Xmx4tEp7_6Q__gmiCNbQmTSyKQUq94UEbbJuvKbocQkXoHZ5eAK6Jfya0xNaXUDMxO7hHNKFpNXAiOgRf_OOszz6DZi5sKpgMensZ2CD8g0P9aEX2KZID6_DBjxwxBBxX2vbR_qkPR_afedRcwXkMHEHX99vEurm30mMoScCPYOjjlZjodv590Xp-My_qx0lOoPha2BDzLKK-bzeyBMlbVcFIodkgoCd5BMwybspy3GQShNKvXcaRWhUyLXaorz1AagKQuMbpXSFe5CLE1tq9RvO_v5i-IYJ6PE_v9KDyoXpTr_8bDOZm3rtpb5C_mpctoHJE7hTd1-MLqCwBELM0zdCqdE57nEx3IDy4AYVJLPRvRCG-_SXvMA5iqUMw0g7YmazZSsCFiT8yvGOS6j2QuyS6zXKpc13WfdfOTImHux3yYbn7QuKqGUKoMOBY4tF-43c7m00]--></g></svg>